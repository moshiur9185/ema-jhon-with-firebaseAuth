{"ast":null,"code":"var _jsxFileName = \"/home/moshiur/Desktop/Web Development/projects/ema-john-with-router/src/components/Review/Review.js\";\nimport React, { useState, useEffect } from 'react';\nimport fakeData from '../../fakeData';\nimport { getDatabaseCart, processOrder, removeFromDatabaseCart } from '../../utilities/databaseManager';\nimport Cart from '../Cart/Cart';\nimport ReviewItem from '../ReviewItem/ReviewItem'; // import happyImage from '../../images/giphy.gif'\n\nimport { useHistory } from 'react-router';\n\nconst Review = () => {\n  const [cart, setCart] = useState([]);\n  const [orderPlace, setOrderPlace] = useState(false);\n  const history = useHistory();\n\n  const handleProceedCheckout = () => {\n    history.push('/shipment');\n  };\n\n  const removeProduct = productKey => {\n    const newCart = cart.filter(pd => pd.key !== productKey);\n    setCart(newCart);\n    removeFromDatabaseCart(productKey);\n  };\n\n  useEffect(() => {\n    const saveCart = getDatabaseCart(); // console.log(saveCart)\n\n    const productKeys = Object.keys(saveCart);\n    const cartProducts = productKeys.map(key => {\n      const product = fakeData.find(pd => pd.key === key);\n      product.quantity = saveCart[key];\n      return product;\n    });\n    setCart(cartProducts);\n  }, []);\n  let thankyou; // if (orderPlace) {\n  //     thankyou = <img src={happyImage} alt=\"\" />\n  // }\n  // <img src={happyImage} alt=\"\" />\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"shop-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, cart.map(pd => /*#__PURE__*/React.createElement(ReviewItem, {\n    removeProduct: removeProduct,\n    key: pd.key,\n    product: pd,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 36\n    }\n  })), thankyou), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Cart, {\n    cart: cart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleProceedCheckout,\n    className: \"cart-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }, \"Proceed Checkout \"))));\n};\n\nexport default Review;","map":{"version":3,"sources":["/home/moshiur/Desktop/Web Development/projects/ema-john-with-router/src/components/Review/Review.js"],"names":["React","useState","useEffect","fakeData","getDatabaseCart","processOrder","removeFromDatabaseCart","Cart","ReviewItem","useHistory","Review","cart","setCart","orderPlace","setOrderPlace","history","handleProceedCheckout","push","removeProduct","productKey","newCart","filter","pd","key","saveCart","productKeys","Object","keys","cartProducts","map","product","find","quantity","thankyou"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,SAASC,eAAT,EAA0BC,YAA1B,EAAwCC,sBAAxC,QAAsE,iCAAtE;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAOC,UAAP,MAAuB,0BAAvB,C,CACA;;AACA,SAASC,UAAT,QAA2B,cAA3B;;AAEA,MAAMC,MAAM,GAAG,MAAM;AACjB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACY,UAAD,EAAaC,aAAb,IAA8Bb,QAAQ,CAAC,KAAD,CAA5C;AACA,QAAMc,OAAO,GAAGN,UAAU,EAA1B;;AAEA,QAAMO,qBAAqB,GAAG,MAAM;AAChCD,IAAAA,OAAO,CAACE,IAAR,CAAa,WAAb;AACH,GAFD;;AAGA,QAAMC,aAAa,GAAIC,UAAD,IAAgB;AAClC,UAAMC,OAAO,GAAGT,IAAI,CAACU,MAAL,CAAYC,EAAE,IAAIA,EAAE,CAACC,GAAH,KAAWJ,UAA7B,CAAhB;AACAP,IAAAA,OAAO,CAACQ,OAAD,CAAP;AACAd,IAAAA,sBAAsB,CAACa,UAAD,CAAtB;AACH,GAJD;;AAKAjB,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMsB,QAAQ,GAAGpB,eAAe,EAAhC,CADY,CAEZ;;AACA,UAAMqB,WAAW,GAAGC,MAAM,CAACC,IAAP,CAAYH,QAAZ,CAApB;AAEA,UAAMI,YAAY,GAAGH,WAAW,CAACI,GAAZ,CAAgBN,GAAG,IAAI;AACxC,YAAMO,OAAO,GAAG3B,QAAQ,CAAC4B,IAAT,CAAcT,EAAE,IAAIA,EAAE,CAACC,GAAH,KAAWA,GAA/B,CAAhB;AACAO,MAAAA,OAAO,CAACE,QAAR,GAAmBR,QAAQ,CAACD,GAAD,CAA3B;AACA,aAAOO,OAAP;AACH,KAJoB,CAArB;AAKAlB,IAAAA,OAAO,CAACgB,YAAD,CAAP;AACH,GAXQ,EAWN,EAXM,CAAT;AAYA,MAAIK,QAAJ,CAzBiB,CA0BjB;AACA;AACA;AACA;;AACA,sBACI;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEQtB,IAAI,CAACkB,GAAL,CAASP,EAAE,iBAAI,oBAAC,UAAD;AACX,IAAA,aAAa,EAAEJ,aADJ;AAEX,IAAA,GAAG,EAAEI,EAAE,CAACC,GAFG;AAGX,IAAA,OAAO,EAAED,EAHE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAf,CAFR,EAOKW,QAPL,CADJ,eAUI;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAEtB,IAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAQ,IAAA,OAAO,EAAEK,qBAAjB;AAAwC,IAAA,SAAS,EAAC,UAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,CADJ,CAVJ,CADJ;AAoBH,CAlDD;;AAoDA,eAAeN,MAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport fakeData from '../../fakeData';\r\nimport { getDatabaseCart, processOrder, removeFromDatabaseCart } from '../../utilities/databaseManager';\r\nimport Cart from '../Cart/Cart';\r\nimport ReviewItem from '../ReviewItem/ReviewItem';\r\n// import happyImage from '../../images/giphy.gif'\r\nimport { useHistory } from 'react-router';\r\n\r\nconst Review = () => {\r\n    const [cart, setCart] = useState([]);\r\n    const [orderPlace, setOrderPlace] = useState(false);\r\n    const history = useHistory()\r\n\r\n    const handleProceedCheckout = () => {\r\n        history.push('/shipment')\r\n    }\r\n    const removeProduct = (productKey) => {\r\n        const newCart = cart.filter(pd => pd.key !== productKey);\r\n        setCart(newCart);\r\n        removeFromDatabaseCart(productKey);\r\n    }\r\n    useEffect(() => {\r\n        const saveCart = getDatabaseCart();\r\n        // console.log(saveCart)\r\n        const productKeys = Object.keys(saveCart);\r\n\r\n        const cartProducts = productKeys.map(key => {\r\n            const product = fakeData.find(pd => pd.key === key);\r\n            product.quantity = saveCart[key];\r\n            return product;\r\n        });\r\n        setCart(cartProducts);\r\n    }, []);\r\n    let thankyou;\r\n    // if (orderPlace) {\r\n    //     thankyou = <img src={happyImage} alt=\"\" />\r\n    // }\r\n    // <img src={happyImage} alt=\"\" />\r\n    return (\r\n        <div className=\"shop-container\">\r\n            <div className=\"product-container\">\r\n                {\r\n                    cart.map(pd => <ReviewItem\r\n                        removeProduct={removeProduct}\r\n                        key={pd.key}\r\n                        product={pd}></ReviewItem>)\r\n                }\r\n                {thankyou}\r\n            </div>\r\n            <div className=\"cart-container\">\r\n                <Cart cart={cart}>\r\n                    <button onClick={handleProceedCheckout} className=\"cart-btn\">Proceed Checkout </button>\r\n                </Cart>\r\n\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Review;"]},"metadata":{},"sourceType":"module"}